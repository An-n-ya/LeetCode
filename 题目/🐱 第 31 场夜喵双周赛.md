# ðŸ± ç¬¬ 31 åœºå¤œå–µåŒå‘¨èµ›

## 5457.[ å’Œä¸ºå¥‡æ•°çš„å­æ•°ç»„æ•°ç›®](https://leetcode-cn.com/problems/number-of-sub-arrays-with-odd-sum/)

æœ¬é¢˜ç”¨åŠ¨æ€è§„åˆ’åšã€‚ç”¨$o[i]$ä¸Ž$e[i]$è¡¨ç¤ºåˆ°ç¬¬$i$ä¸ªå…ƒç´ æ—¶ï¼ŒåŒ…å«ç¬¬$i$ä¸ªå…ƒç´ çš„è¿žç»­å­æ•°ç»„å’Œä¸ºå¥‡æ•°å’Œå¶æ•°çš„ä¸ªæ•°ã€‚ç”¨$s[i]$è¡¨ç¤ºåˆ°$i$ä¸ªå…ƒç´ æ—¶ï¼Œå’Œä¸ºå¥‡æ•°å¾—å­æ•°ç»„æ•°ç›®ã€‚

ç”±äºŽå¥‡ï¼‹å¶=å¥‡ï¼Œå¶+å¶=å¶ï¼Œå¥‡+å¥‡=å¶ï¼Œå¯ä»¥å†™å‡ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹

çŠ¶æ€è½¬ç§»æ–¹ç¨‹å¦‚ä¸‹ï¼š
$$
s[i]=
\begin{cases}
o[i-1]+s[i-1],&\text{arr[i] is even}\\
e[i-1]+s[i-1],&\text{arr[i] is odd}
\end{cases}
$$
è€Œå¯¹äºŽ$o[i],e[i]$:
$$
o[i]=
\begin{cases}
o[i-1]+1,&\text{arr[i] is even}\\
e[i-1]+1,&\text{arr[i] is odd}
\end{cases}\\
e[i]=
\begin{cases}
e[i-1]+1,&\text{arr[i] is even}\\
o[i-1]+1,&\text{arr[i] is odd}
\end{cases}
$$
ä¸Šè¿°ç©ºé—´å¤æ‚åº¦ä¸º$O(n)$ï¼Œä½†å…¶å®žå¯ä»¥æŠŠç©ºé—´åŽ‹ç¼©åˆ°$O(1)$ï¼Œå¦‚ä¸‹ï¼š

```python
class Solution(object):
    def numOfSubarrays(self, arr):
        dp = [1,0]
        cur = res = 0
        for a in arr:
            cur += a
            res += dp[1 - cur % 2]
            dp[cur % 2] += 1
        return res % (10**9 + 7)
```

## 5458.[ å­—ç¬¦ä¸²çš„å¥½åˆ†å‰²æ•°ç›®](https://leetcode-cn.com/problems/number-of-good-ways-to-split-a-string/)

å…³äºŽè¿™ç§æ•°ä¸åŒå­—ç¬¦æ•°ç›®çš„é¢˜å¯ä»¥ä½¿ç”¨Pythonçš„`collections`åŒ…ã€‚

é¦–å…ˆä½¿ç”¨`collections.Counter`æ‰¾åˆ°`s`æ•°ç»„ä¸­æ¯ä¸ªå­—æ¯å‡ºçŽ°çš„æ¬¡æ•°ï¼Œä¿å­˜åœ¨`counter`å­—å…¸ä¸­ã€‚å†ç”Ÿæˆå¦å¤–ä¸€ä¸ªç©ºå­—å…¸`counter_l`ã€‚æŽ¥ç€éåŽ†`s`æ•°ç»„ï¼Œä»Ž`counter`ä¸­å–èµ°å…ƒç´ ï¼Œåœ¨`counter_l`ä¸­æ·»åŠ å…ƒç´ ï¼Œè‹¥ä¸¤å­—å…¸é•¿åº¦ç›¸åŒï¼Œè¯´æ˜Žæ»¡è¶³é¢˜ç›®æ¡ä»¶ï¼Œæ˜¯ã€Œå¥½åˆ†å‰²ã€

```python
import collections
class Solution:
    def numSplits(self, s: str) -> int:
        counter = dict(collections.Counter(s))
        counter_l = collections.Counter()
        to_ret = 0
        for t in s :
            counter[t] -= 1
            if counter[t] == 0 :
                counter.pop(t)
            counter_l[t] += 1
            if len(counter) == len(counter_l) :
                to_ret += 1
        return to_ret
```

